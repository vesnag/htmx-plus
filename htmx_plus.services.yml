services:
  htmx_plus.htmx_library_attacher:
    class: Drupal\htmx_plus\HtmxLibraryAttacher
    arguments: ['@library.discovery', '@htmx_plus.htmx_condition_verifier', '@logger.factory']

  htmx_plus.htmx_condition_verifier:
    class: Drupal\htmx_plus\HtmxConditionVerifier
    arguments: ['@path.matcher']

  htmx_plus.config_service:
    class: 'Drupal\htmx_plus\Service\ConfigService'
    arguments: ['@config.factory', '@state']

  htmx_plus.htmx_debug_checker:
    class: 'Drupal\htmx_plus\Service\HtmxDebugChecker'
    arguments: ['@htmx_plus.config_service']

  htmx_plus.debug_library_subscriber:
    class: Drupal\htmx_plus\EventSubscriber\HtmxDebugLibrarySubscriber
    arguments: ['@htmx_plus.config_service']
    tags:
      - { name: event_subscriber }

  htmx_plus.html_extension:
    class: Drupal\htmx_plus\Twig\HTMXExtension
    arguments: ['@htmx_plus.htmx_debug_checker']
    tags:
      - { name: twig.extension }
